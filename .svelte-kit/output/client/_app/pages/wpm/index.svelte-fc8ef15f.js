import{S as te,i as se,s as re,e as _,k as S,c as d,a as v,m as M,d as f,b as u,g as P,H as i,l as ee,_ as De,J as me,t as T,h as W,j as O,w as le,x as ae,G as Ve,y as ne,I as pe,U as Se,q as Y,o as Z,B as ce,O as _e,$ as Me,Q as ie,p as He,n as Je,P as ge}from"../../chunks/vendor-ccb5527d.js";const we=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9",",",".","!","?",'"'," ","/","\\","'","&","(",")","+","-","Backspace"],Re=a=>{let e=[],s=a.split(" "),l=0;for(const t of s){const r=t.split("");let n=[];for(const c of r){let o={char:c,status:"unfinished"};n.push(o)}l!==s.length-1&&n.push({char:" ",status:"unfinished"}),e.push(n),l++}return e},Le=(a,e,s,l)=>(we.includes(l)&&(l==="Backspace"?(e!==0?e--:a!==0&&(a--,e=s[a].length-1),s[a][e].status="unfinished"):(l===s[a][e].char?s[a][e].status="correct":s[a][e].status="incorrect",e===s[a].length-1?(a++,e=0):e++)),{currentWordIndex:a,currentCharIndex:e,allTextArray:s}),Qe=(a,e)=>{let s=0,l=0,t=0;for(const m of a)for(const p of m)p.status!=="unfinished"&&s++,p.status==="incorrect"&&l++,p.status==="correct"&&t++;let r=e/1e3/60,n=s/5/r,c=Math.round(n-l/r);n=Math.round(n),c<0&&(c=0);let o=Math.round(t/s*100);return{grossWpm:n,netWpm:c,accuracy:o}};function Oe(a,e,s){const l=a.slice();return l[3]=e[s],l[5]=s,l}function je(a,e,s){const l=a.slice();return l[6]=e[s],l[8]=s,l}function ze(a){let e,s=a[6].char+"",l;return{c(){e=_("span"),l=T(s),this.h()},l(t){e=d(t,"SPAN",{class:!0});var r=v(e);l=W(r,s),r.forEach(f),this.h()},h(){u(e,"class","char unfinished svelte-j6c4cm")},m(t,r){P(t,e,r),i(e,l)},p(t,r){r&4&&s!==(s=t[6].char+"")&&O(l,s)},d(t){t&&f(e)}}}function Fe(a){let e,s=a[6].char+"",l;return{c(){e=_("span"),l=T(s),this.h()},l(t){e=d(t,"SPAN",{class:!0});var r=v(e);l=W(r,s),r.forEach(f),this.h()},h(){u(e,"class","char incorrect svelte-j6c4cm")},m(t,r){P(t,e,r),i(e,l)},p(t,r){r&4&&s!==(s=t[6].char+"")&&O(l,s)},d(t){t&&f(e)}}}function Ke(a){let e,s=a[6].char+"",l;return{c(){e=_("span"),l=T(s),this.h()},l(t){e=d(t,"SPAN",{class:!0});var r=v(e);l=W(r,s),r.forEach(f),this.h()},h(){u(e,"class","char correct svelte-j6c4cm")},m(t,r){P(t,e,r),i(e,l)},p(t,r){r&4&&s!==(s=t[6].char+"")&&O(l,s)},d(t){t&&f(e)}}}function Xe(a){let e;function s(r,n){if(r[6].status==="correct")return xe;if(r[6].status==="incorrect")return Ze;if(r[6].status==="unfinished")return Ye}let l=s(a),t=l&&l(a);return{c(){t&&t.c(),e=ee()},l(r){t&&t.l(r),e=ee()},m(r,n){t&&t.m(r,n),P(r,e,n)},p(r,n){l===(l=s(r))&&t?t.p(r,n):(t&&t.d(1),t=l&&l(r),t&&(t.c(),t.m(e.parentNode,e)))},d(r){t&&t.d(r),r&&f(e)}}}function Ye(a){let e,s=a[6].char+"",l;return{c(){e=_("span"),l=T(s),this.h()},l(t){e=d(t,"SPAN",{class:!0});var r=v(e);l=W(r,s),r.forEach(f),this.h()},h(){u(e,"class","char unfinished blink-before svelte-j6c4cm")},m(t,r){P(t,e,r),i(e,l)},p(t,r){r&4&&s!==(s=t[6].char+"")&&O(l,s)},d(t){t&&f(e)}}}function Ze(a){let e,s=a[6].char+"",l;return{c(){e=_("span"),l=T(s),this.h()},l(t){e=d(t,"SPAN",{class:!0});var r=v(e);l=W(r,s),r.forEach(f),this.h()},h(){u(e,"class","char incorrect blink-before svelte-j6c4cm")},m(t,r){P(t,e,r),i(e,l)},p(t,r){r&4&&s!==(s=t[6].char+"")&&O(l,s)},d(t){t&&f(e)}}}function xe(a){let e,s=a[6].char+"",l;return{c(){e=_("span"),l=T(s),this.h()},l(t){e=d(t,"SPAN",{class:!0});var r=v(e);l=W(r,s),r.forEach(f),this.h()},h(){u(e,"class","char correct blink-before svelte-j6c4cm")},m(t,r){P(t,e,r),i(e,l)},p(t,r){r&4&&s!==(s=t[6].char+"")&&O(l,s)},d(t){t&&f(e)}}}function Ce(a){let e;function s(r,n){if(r[5]===r[0]&&r[8]===r[1]&&r[6].char!==" ")return Xe;if(r[6].status==="correct")return Ke;if(r[6].status==="incorrect")return Fe;if(r[6].status==="unfinished")return ze}let l=s(a),t=l&&l(a);return{c(){t&&t.c(),e=ee()},l(r){t&&t.l(r),e=ee()},m(r,n){t&&t.m(r,n),P(r,e,n)},p(r,n){l===(l=s(r))&&t?t.p(r,n):(t&&t.d(1),t=l&&l(r),t&&(t.c(),t.m(e.parentNode,e)))},d(r){t&&t.d(r),r&&f(e)}}}function Ge(a){let e,s,l=a[3],t=[];for(let r=0;r<l.length;r+=1)t[r]=Ce(je(a,l,r));return{c(){e=_("div");for(let r=0;r<t.length;r+=1)t[r].c();s=S(),this.h()},l(r){e=d(r,"DIV",{class:!0});var n=v(e);for(let c=0;c<t.length;c+=1)t[c].l(n);s=M(n),n.forEach(f),this.h()},h(){u(e,"class","word svelte-j6c4cm")},m(r,n){P(r,e,n);for(let c=0;c<t.length;c+=1)t[c].m(e,null);i(e,s)},p(r,n){if(n&7){l=r[3];let c;for(c=0;c<l.length;c+=1){const o=je(r,l,c);t[c]?t[c].p(o,n):(t[c]=Ce(o),t[c].c(),t[c].m(e,s))}for(;c<t.length;c+=1)t[c].d(1);t.length=l.length}},d(r){r&&f(e),De(t,r)}}}function $e(a){let e,s=a[2],l=[];for(let t=0;t<s.length;t+=1)l[t]=Ge(Oe(a,s,t));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=ee()},l(t){for(let r=0;r<l.length;r+=1)l[r].l(t);e=ee()},m(t,r){for(let n=0;n<l.length;n+=1)l[n].m(t,r);P(t,e,r)},p(t,[r]){if(r&7){s=t[2];let n;for(n=0;n<s.length;n+=1){const c=Oe(t,s,n);l[n]?l[n].p(c,r):(l[n]=Ge(c),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=s.length}},i:me,o:me,d(t){De(l,t),t&&f(e)}}}function et(a,e,s){let{currentWordIndex:l}=e,{currentCharIndex:t}=e,{allTextArray:r}=e;return a.$$set=n=>{"currentWordIndex"in n&&s(0,l=n.currentWordIndex),"currentCharIndex"in n&&s(1,t=n.currentCharIndex),"allTextArray"in n&&s(2,r=n.allTextArray)},[l,t,r]}class tt extends te{constructor(e){super();se(this,e,et,$e,re,{currentWordIndex:0,currentCharIndex:1,allTextArray:2})}}function st(a){let e,s,l,t;return{c(){e=_("span"),s=T(a[0]),l=T(":"),t=T(a[1]),this.h()},l(r){e=d(r,"SPAN",{class:!0});var n=v(e);s=W(n,a[0]),l=W(n,":"),t=W(n,a[1]),n.forEach(f),this.h()},h(){u(e,"class","timer")},m(r,n){P(r,e,n),i(e,s),i(e,l),i(e,t)},p(r,[n]){n&1&&O(s,r[0]),n&2&&O(t,r[1])},i:me,o:me,d(r){r&&f(e)}}}function rt(a,e,s){let{elapsedTime:l}=e,t="",r="";return a.$$set=n=>{"elapsedTime"in n&&s(2,l=n.elapsedTime)},a.$$.update=()=>{if(a.$$.dirty&7){const n=l/1e3;let c=Math.floor(n/60),o=Math.floor(n%60);s(0,t=""),s(1,r=""),s(0,t+=c),o<10?s(1,r="0"+o):s(1,r+=o)}},[t,r,l]}class Be extends te{constructor(e){super();se(this,e,rt,st,re,{elapsedTime:2})}}function lt(a){let e,s,l,t,r,n,c,o,m,p,b,w,D,E,k,h,g,I,V,q,y,C,K,x;return y=new Be({props:{elapsedTime:a[2]}}),{c(){e=_("div"),s=_("span"),l=_("div"),t=_("div"),r=T("Net WPM"),n=S(),c=T(a[0]),o=S(),m=_("div"),p=_("div"),b=T("Gross WPM"),w=S(),D=T(a[1]),E=S(),k=_("span"),h=_("div"),g=_("img"),V=S(),q=_("div"),le(y.$$.fragment),this.h()},l(N){e=d(N,"DIV",{class:!0});var A=v(e);s=d(A,"SPAN",{class:!0});var G=v(s);l=d(G,"DIV",{class:!0});var z=v(l);t=d(z,"DIV",{class:!0});var L=v(t);r=W(L,"Net WPM"),L.forEach(f),n=M(z),c=W(z,a[0]),z.forEach(f),o=M(G),m=d(G,"DIV",{class:!0});var R=v(m);p=d(R,"DIV",{class:!0});var $=v(p);b=W($,"Gross WPM"),$.forEach(f),w=M(R),D=W(R,a[1]),R.forEach(f),G.forEach(f),E=M(A),k=d(A,"SPAN",{class:!0});var B=v(k);h=d(B,"DIV",{class:!0});var Q=v(h);g=d(Q,"IMG",{class:!0,src:!0,alt:!0}),Q.forEach(f),V=M(B),q=d(B,"DIV",{class:!0});var U=v(q);ae(y.$$.fragment,U),U.forEach(f),B.forEach(f),A.forEach(f),this.h()},h(){u(t,"class","title svelte-1qmvysy"),u(l,"class","net svelte-1qmvysy"),u(p,"class","title svelte-1qmvysy"),u(m,"class","gross svelte-1qmvysy"),u(s,"class","wpm svelte-1qmvysy"),u(g,"class","refresh svelte-1qmvysy"),Ve(g.src,I="svg/refresh.svg")||u(g,"src",I),u(g,"alt","refresh"),u(h,"class","refresh-container svelte-1qmvysy"),u(q,"class","elapsed-time svelte-1qmvysy"),u(k,"class","time svelte-1qmvysy"),u(e,"class","stats svelte-1qmvysy")},m(N,A){P(N,e,A),i(e,s),i(s,l),i(l,t),i(t,r),i(l,n),i(l,c),i(s,o),i(s,m),i(m,p),i(p,b),i(m,w),i(m,D),i(e,E),i(e,k),i(k,h),i(h,g),i(k,V),i(k,q),ne(y,q,null),C=!0,K||(x=pe(g,"click",function(){Se(a[3])&&a[3].apply(this,arguments)}),K=!0)},p(N,[A]){a=N,(!C||A&1)&&O(c,a[0]),(!C||A&2)&&O(D,a[1]);const G={};A&4&&(G.elapsedTime=a[2]),y.$set(G)},i(N){C||(Y(y.$$.fragment,N),C=!0)},o(N){Z(y.$$.fragment,N),C=!1},d(N){N&&f(e),ce(y),K=!1,x()}}}function at(a,e,s){let{netWpm:l}=e,{grossWpm:t}=e,{totalTime:r}=e,{isRaceOngoing:n}=e,{restartTest:c}=e;return a.$$set=o=>{"netWpm"in o&&s(0,l=o.netWpm),"grossWpm"in o&&s(1,t=o.grossWpm),"totalTime"in o&&s(2,r=o.totalTime),"isRaceOngoing"in o&&s(4,n=o.isRaceOngoing),"restartTest"in o&&s(3,c=o.restartTest)},[l,t,r,c,n]}class nt extends te{constructor(e){super();se(this,e,at,lt,re,{netWpm:0,grossWpm:1,totalTime:2,isRaceOngoing:4,restartTest:3})}}function ct(a){let e,s,l,t,r,n,c,o,m,p,b,w,D,E,k,h,g,I,V,q,y,C,K,x,N,A,G,z,L,R,$,B,Q,U,ye,F,X,de,be;return R=new Be({props:{elapsedTime:a[3]}}),{c(){e=_("div"),s=_("div"),l=_("div"),t=_("div"),r=T("Net WPM"),n=S(),c=_("span"),o=T(a[0]),m=S(),p=_("div"),b=_("div"),w=T("Gross WPM"),D=S(),E=_("span"),k=T(a[1]),h=S(),g=_("div"),I=_("div"),V=T("Accuracy"),q=S(),y=_("span"),C=T(a[2]),K=T("%"),x=S(),N=_("div"),A=_("div"),G=T("Time Spent"),z=S(),L=_("span"),le(R.$$.fragment),$=S(),B=_("div"),Q=_("div"),U=_("img"),this.h()},l(j){e=d(j,"DIV",{class:!0});var H=v(e);s=d(H,"DIV",{class:!0});var J=v(s);l=d(J,"DIV",{class:!0});var oe=v(l);t=d(oe,"DIV",{class:!0});var Te=v(t);r=W(Te,"Net WPM"),Te.forEach(f),n=M(oe),c=d(oe,"SPAN",{class:!0});var We=v(c);o=W(We,a[0]),We.forEach(f),oe.forEach(f),m=M(J),p=d(J,"DIV",{class:!0});var fe=v(p);b=d(fe,"DIV",{class:!0});var Ee=v(b);w=W(Ee,"Gross WPM"),Ee.forEach(f),D=M(fe),E=d(fe,"SPAN",{class:!0});var ke=v(E);k=W(ke,a[1]),ke.forEach(f),fe.forEach(f),h=M(J),g=d(J,"DIV",{class:!0});var ue=v(g);I=d(ue,"DIV",{class:!0});var Ie=v(I);V=W(Ie,"Accuracy"),Ie.forEach(f),q=M(ue),y=d(ue,"SPAN",{class:!0});var ve=v(y);C=W(ve,a[2]),K=W(ve,"%"),ve.forEach(f),ue.forEach(f),x=M(J),N=d(J,"DIV",{class:!0});var he=v(N);A=d(he,"DIV",{class:!0});var qe=v(A);G=W(qe,"Time Spent"),qe.forEach(f),z=M(he),L=d(he,"SPAN",{class:!0});var Ne=v(L);ae(R.$$.fragment,Ne),Ne.forEach(f),he.forEach(f),J.forEach(f),$=M(H),B=d(H,"DIV",{class:!0});var Pe=v(B);Q=d(Pe,"DIV",{class:!0});var Ae=v(Q);U=d(Ae,"IMG",{class:!0,src:!0,alt:!0}),Ae.forEach(f),Pe.forEach(f),H.forEach(f),this.h()},h(){u(t,"class","result-title svelte-tqr9np"),u(c,"class","result-data svelte-tqr9np"),u(l,"class","result svelte-tqr9np"),u(b,"class","result-title svelte-tqr9np"),u(E,"class","result-data svelte-tqr9np"),u(p,"class","result svelte-tqr9np"),u(I,"class","result-title svelte-tqr9np"),u(y,"class","result-data svelte-tqr9np"),u(g,"class","result svelte-tqr9np"),u(A,"class","result-title svelte-tqr9np"),u(L,"class","result-data svelte-tqr9np"),u(N,"class","result svelte-tqr9np"),u(s,"class","data-container svelte-tqr9np"),u(U,"class","refresh svelte-tqr9np"),Ve(U.src,ye="svg/refresh.svg")||u(U,"src",ye),u(U,"alt","refresh"),u(Q,"class","refresh-container svelte-tqr9np"),u(B,"class","rhs svelte-tqr9np"),u(e,"class","result-container svelte-tqr9np")},m(j,H){P(j,e,H),i(e,s),i(s,l),i(l,t),i(t,r),i(l,n),i(l,c),i(c,o),i(s,m),i(s,p),i(p,b),i(b,w),i(p,D),i(p,E),i(E,k),i(s,h),i(s,g),i(g,I),i(I,V),i(g,q),i(g,y),i(y,C),i(y,K),i(s,x),i(s,N),i(N,A),i(A,G),i(N,z),i(N,L),ne(R,L,null),i(e,$),i(e,B),i(B,Q),i(Q,U),X=!0,de||(be=pe(U,"click",function(){Se(a[4])&&a[4].apply(this,arguments)}),de=!0)},p(j,[H]){a=j,(!X||H&1)&&O(o,a[0]),(!X||H&2)&&O(k,a[1]),(!X||H&4)&&O(C,a[2]);const J={};H&8&&(J.elapsedTime=a[3]),R.$set(J)},i(j){X||(Y(R.$$.fragment,j),_e(()=>{F||(F=Me(e,ie,{duration:200},!0)),F.run(1)}),X=!0)},o(j){Z(R.$$.fragment,j),F||(F=Me(e,ie,{duration:200},!1)),F.run(0),X=!1},d(j){j&&f(e),ce(R),j&&F&&F.end(),de=!1,be()}}}function it(a,e,s){let{netWpm:l}=e,{grossWpm:t}=e,{accuracy:r}=e,{totalTime:n}=e,{restartTest:c}=e;return a.$$set=o=>{"netWpm"in o&&s(0,l=o.netWpm),"grossWpm"in o&&s(1,t=o.grossWpm),"accuracy"in o&&s(2,r=o.accuracy),"totalTime"in o&&s(3,n=o.totalTime),"restartTest"in o&&s(4,c=o.restartTest)},[l,t,r,n,c]}class ot extends te{constructor(e){super();se(this,e,it,ct,re,{netWpm:0,grossWpm:1,accuracy:2,totalTime:3,restartTest:4})}}function ft(a){let e,s;return e=new ot({props:{netWpm:a[5],grossWpm:a[4],accuracy:a[6],totalTime:a[7],restartTest:a[10]}}),{c(){le(e.$$.fragment)},l(l){ae(e.$$.fragment,l)},m(l,t){ne(e,l,t),s=!0},p(l,t){const r={};t&32&&(r.netWpm=l[5]),t&16&&(r.grossWpm=l[4]),t&64&&(r.accuracy=l[6]),t&128&&(r.totalTime=l[7]),e.$set(r)},i(l){s||(Y(e.$$.fragment,l),s=!0)},o(l){Z(e.$$.fragment,l),s=!1},d(l){ce(e,l)}}}function ut(a){let e,s,l,t,r,n,c,o,m,p,b,w,D,E,k;return e=new nt({props:{netWpm:a[5],grossWpm:a[4],totalTime:a[7],isRaceOngoing:a[0],restartTest:a[10]}}),r=new tt({props:{currentWordIndex:a[1],currentCharIndex:a[2],allTextArray:a[3]}}),{c(){le(e.$$.fragment),s=S(),l=_("div"),t=_("div"),le(r.$$.fragment),c=S(),o=_("div"),m=_("span"),p=_("i"),b=T("Click the above blurred text to focus. Once focused, begin typing to start the test."),this.h()},l(h){ae(e.$$.fragment,h),s=M(h),l=d(h,"DIV",{class:!0,tabindex:!0});var g=v(l);t=d(g,"DIV",{class:!0,id:!0});var I=v(t);ae(r.$$.fragment,I),I.forEach(f),g.forEach(f),c=M(h),o=d(h,"DIV",{class:!0});var V=v(o);m=d(V,"SPAN",{});var q=v(m);p=d(q,"I",{});var y=v(p);b=W(y,"Click the above blurred text to focus. Once focused, begin typing to start the test."),y.forEach(f),q.forEach(f),V.forEach(f),this.h()},h(){u(t,"class","racetext svelte-qs93s3"),u(t,"id","racetext"),u(l,"class","blur svelte-qs93s3"),u(l,"tabindex","0"),u(o,"class","helper-text svelte-qs93s3")},m(h,g){ne(e,h,g),P(h,s,g),P(h,l,g),i(l,t),ne(r,t,null),P(h,c,g),P(h,o,g),i(o,m),i(m,p),i(p,b),D=!0,E||(k=pe(l,"keydown",a[9]),E=!0)},p(h,g){const I={};g&32&&(I.netWpm=h[5]),g&16&&(I.grossWpm=h[4]),g&128&&(I.totalTime=h[7]),g&1&&(I.isRaceOngoing=h[0]),e.$set(I);const V={};g&2&&(V.currentWordIndex=h[1]),g&4&&(V.currentCharIndex=h[2]),g&8&&(V.allTextArray=h[3]),r.$set(V)},i(h){D||(Y(e.$$.fragment,h),Y(r.$$.fragment,h),n||_e(()=>{n=ge(t,ie,{}),n.start()}),w||_e(()=>{w=ge(o,ie,{}),w.start()}),D=!0)},o(h){Z(e.$$.fragment,h),Z(r.$$.fragment,h),D=!1},d(h){ce(e,h),h&&f(s),h&&f(l),ce(r),h&&f(c),h&&f(o),E=!1,k()}}}function ht(a){let e,s,l,t,r;const n=[ut,ft],c=[];function o(m,p){return m[8]?1:0}return s=o(a),l=c[s]=n[s](a),{c(){e=_("section"),l.c(),this.h()},l(m){e=d(m,"SECTION",{class:!0});var p=v(e);l.l(p),p.forEach(f),this.h()},h(){u(e,"class","svelte-qs93s3")},m(m,p){P(m,e,p),c[s].m(e,null),r=!0},p(m,[p]){let b=s;s=o(m),s===b?c[s].p(m,p):(Je(),Z(c[b],1,1,()=>{c[b]=null}),He(),l=c[s],l?l.p(m,p):(l=c[s]=n[s](m),l.c()),Y(l,1),l.m(e,null))},i(m){r||(Y(l),t||_e(()=>{t=ge(e,ie,{}),t.start()}),r=!0)},o(m){Z(l),r=!1},d(m){m&&f(e),c[s].d()}}}const Ue=1e3;function mt(a,e,s){const t="To calculate Net WPM, take your gross WPM result and subtract the amount of errors you left in per minute, also known as the error rate. To calculate error rate, simply divide the number of errors by the time you typed for in minutes.";let r=!1,n=!1,c=0,o=0,m=Re(t),p,b=0,w=0,D=0,E=0,k=!1;const h=q=>{if(!r&&we.includes(q.key)){n||(s(0,n=!0),I());const y=Le(c,o,m,q.key);s(3,m=y.allTextArray),y.currentWordIndex===m.length?(r=!0,s(0,n=!1),s(8,k=!0),clearInterval(p)):(s(1,c=y.currentWordIndex),s(2,o=y.currentCharIndex))}},g=()=>{const q=Qe(m,E);s(4,b=q.grossWpm),s(5,w=q.netWpm),s(6,D=q.accuracy)},I=()=>{s(7,E=0),p=setInterval(()=>{s(7,E+=Ue),g()},Ue)};return[n,c,o,m,b,w,D,E,k,h,()=>{clearInterval(p),s(4,b=0),s(5,w=0),s(1,c=0),s(2,o=0),r=!1,s(0,n=!1),s(8,k=!1),s(3,m=Re(t)),s(7,E=0)}]}class dt extends te{constructor(e){super();se(this,e,mt,ht,re,{})}}export{dt as default};
